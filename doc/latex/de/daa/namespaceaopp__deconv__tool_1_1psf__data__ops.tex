\hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops}{}\doxysection{aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops Namespace Reference}
\label{namespaceaopp__deconv__tool_1_1psf__data__ops}\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class \mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}
\item 
class \mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S1}{S1}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
np.\+ndarray \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a2969163168d8875a18ecbc78c38594c1}{apply\+\_\+offsets}} (np.\+ndarray data, tuple\mbox{[}int,...\mbox{]} axes, np.\+ndarray offsets)
\item 
tuple\mbox{[}np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}, dict\mbox{[}str, Any\mbox{]}, dict\mbox{[}str, Any\mbox{]}\mbox{]} \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a1748b457fcbf82cab1d62a64a5a10c77}{fit\+\_\+to\+\_\+data}} (\mbox{\hyperlink{classaopp__deconv__tool_1_1optimise__compat_1_1PriorParamSet}{Prior\+Param\+Set}} params, Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a15f5804637fb8c1c3016236e1256d5b5}{P}}, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}\mbox{]} flattened\+\_\+psf\+\_\+model\+\_\+callable, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]} psf\+\_\+data, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]} psf\+\_\+err, Callable\mbox{[}\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1optimise__compat_1_1PriorParamSet}{Prior\+Param\+Set}}, Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}{Q}}, float\mbox{]}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}{Q}}\mbox{]} fitting\+\_\+function, Callable\mbox{[}\mbox{[}Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a15f5804637fb8c1c3016236e1256d5b5}{P}}, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}\mbox{]}, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}\mbox{]}, Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}{Q}}, float\mbox{]}\mbox{]} \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aeeb273f603fa12765786ad7bdb87ee72}{objective\+\_\+function\+\_\+factory}}=functools.\+partial(\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aeeb273f603fa12765786ad7bdb87ee72}{objective\+\_\+function\+\_\+factory}}, mode=\textquotesingle{}minimise\textquotesingle{}), str$\vert$bool$\vert$None plot\+\_\+mode=None)
\item 
np.\+ndarray \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a9119c91cdd8de15604d05bf8944cd8ba}{get\+\_\+center\+\_\+of\+\_\+mass\+\_\+offsets}} (np.\+ndarray data, tuple\mbox{[}int,...\mbox{]} axes, np.\+ndarray$\vert$None roi\+\_\+mask=None)
\item 
np.\+ndarray \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_ad87a713d2e959d66d3d4ba4ccf24b360}{get\+\_\+outlier\+\_\+mask}} (np.\+ndarray data, tuple\mbox{[}int,...\mbox{]} axes, float n\+\_\+sigma=5)
\item 
np.\+ndarray \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_af048123fcb4f52be1a5e745f6722107e}{get\+\_\+roi\+\_\+mask}} (np.\+ndarray data, tuple\mbox{[}int,...\mbox{]} axes, float threshold=1E-\/2, None$\vert$int n\+\_\+largest\+\_\+regions=1)
\item 
np.\+ndarray \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a77e0b620abe6cdf4232184c7b8552bec}{normalise}} (np.\+ndarray data, tuple\mbox{[}int,...\mbox{]}$\vert$None axes=None, tuple\mbox{[}int,...\mbox{]}$\vert$None cutout\+\_\+shape=None, recenter\+\_\+around\+\_\+center\+\_\+of\+\_\+mass=False, remove\+\_\+background=True)
\item 
def \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aeeb273f603fa12765786ad7bdb87ee72}{objective\+\_\+function\+\_\+factory}} (model\+\_\+flattened\+\_\+callable, data, err, mode=\textquotesingle{}minimise\textquotesingle{})
\item 
def \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aacf559b49b36bff59b0989d961abc68c}{remove\+\_\+offset}} (data, axes, mask, model\+\_\+name=\textquotesingle{}norm\textquotesingle{})
\item 
def \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a4b3d99f76e3faae7a4a9bdfdcda51df8}{scipy\+\_\+fitting\+\_\+function\+\_\+factory}} (scipy\+\_\+func)
\item 
np.\+ndarray \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a1341f48440c941ca947dfc28a66dece2}{trim\+\_\+around\+\_\+center}} (np.\+ndarray data, tuple\mbox{[}int,...\mbox{]} axes, tuple\mbox{[}int,...\mbox{]} output\+\_\+shape)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a0f190a442c97f8630deb4ecba62c0567}{\+\_\+lgr}} = \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1cfg_1_1logs_a858779f4bf60872f01cc77b643fedc79}{aopp\+\_\+deconv\+\_\+tool.\+cfg.\+logs.\+get\+\_\+logger\+\_\+at\+\_\+level}}(\+\_\+\+\_\+name\+\_\+\+\_\+, \textquotesingle{}INFO\textquotesingle{})
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_ac3bc69177f49ec5ab295933f60d70ad3}{Int\+Var}} = Type\+Var(\textquotesingle{}Int\+Var\textquotesingle{}, bound=int)
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_acabc8d724f2afc96900803954909e2cb}{M}} = Type\+Var(\textquotesingle{}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\textquotesingle{},bound=int)
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}} = Type\+Var(\textquotesingle{}N\textquotesingle{},bound=int)
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a15f5804637fb8c1c3016236e1256d5b5}{P}} = Param\+Spec(\textquotesingle{}P\textquotesingle{})
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}{Q}} = Param\+Spec(\textquotesingle{}Q\textquotesingle{})
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}} = Type\+Var(\textquotesingle{}T\textquotesingle{})
\item 
\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa3da58f86ffd7ff453d9d6bfd8f0b3e3}{Ts}} = Type\+Var\+Tuple(\textquotesingle{}Ts\textquotesingle{})
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Module containing routines that operate on point spread function data
\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a2969163168d8875a18ecbc78c38594c1}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a2969163168d8875a18ecbc78c38594c1}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!apply\_offsets@{apply\_offsets}}
\index{apply\_offsets@{apply\_offsets}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{apply\_offsets()}{apply\_offsets()}}
{\footnotesize\ttfamily  np.\+ndarray aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+apply\+\_\+offsets (\begin{DoxyParamCaption}\item[{np.\+ndarray}]{data,  }\item[{tuple\mbox{[}int,...\mbox{]}}]{axes,  }\item[{np.\+ndarray  }]{offsets }\end{DoxyParamCaption})}

\begin{DoxyVerb}    data : np.ndarray
        Array to recenter
    axes : tuple[int,...]
        Axes to get center of mass and recenter along.
    offsets : np.ndarray
        Offsets to apply to data, will shift data's grid by this amount.\end{DoxyVerb}
 Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/daa/namespaceaopp__deconv__tool_1_1psf__data__ops_a2969163168d8875a18ecbc78c38594c1_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a1748b457fcbf82cab1d62a64a5a10c77}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a1748b457fcbf82cab1d62a64a5a10c77}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!fit\_to\_data@{fit\_to\_data}}
\index{fit\_to\_data@{fit\_to\_data}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{fit\_to\_data()}{fit\_to\_data()}}
{\footnotesize\ttfamily  tuple\mbox{[}np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]},\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}, dict\mbox{[}str,Any\mbox{]}, dict\mbox{[}str,Any\mbox{]}\mbox{]} aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+fit\+\_\+to\+\_\+data (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{classaopp__deconv__tool_1_1optimise__compat_1_1PriorParamSet}{Prior\+Param\+Set}}}]{params,  }\item[{Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a15f5804637fb8c1c3016236e1256d5b5}{P}}, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]},\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}\mbox{]}}]{flattened\+\_\+psf\+\_\+model\+\_\+callable,  }\item[{np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]},\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}}]{psf\+\_\+data,  }\item[{np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]},\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}}]{psf\+\_\+err,  }\item[{Callable\mbox{[}\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1optimise__compat_1_1PriorParamSet}{Prior\+Param\+Set}}, Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}{Q}},float\mbox{]}\mbox{]}, \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}{Q}}\mbox{]}}]{fitting\+\_\+function,  }\item[{Callable\mbox{[}\mbox{[}Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a15f5804637fb8c1c3016236e1256d5b5}{P}},np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]},\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}\mbox{]}, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]},\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}, np.\+ndarray\mbox{[}\mbox{\hyperlink{classaopp__deconv__tool_1_1psf__data__ops_1_1S}{S}}\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\mbox{]},\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}{T}}\mbox{]}\mbox{]}, Callable\mbox{[}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}{Q}},float\mbox{]}\mbox{]} }]{objective\+\_\+function\+\_\+factory = {\ttfamily functools.partial(\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aeeb273f603fa12765786ad7bdb87ee72}{objective\+\_\+function\+\_\+factory}},~mode=\textquotesingle{}minimise\textquotesingle{})},  }\item[{str $\vert$ bool $\vert$ None }]{plot\+\_\+mode = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}    Fits a model to some data with some error on that data.\end{DoxyVerb}
 Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/daa/namespaceaopp__deconv__tool_1_1psf__data__ops_a1748b457fcbf82cab1d62a64a5a10c77_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a9119c91cdd8de15604d05bf8944cd8ba}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a9119c91cdd8de15604d05bf8944cd8ba}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!get\_center\_of\_mass\_offsets@{get\_center\_of\_mass\_offsets}}
\index{get\_center\_of\_mass\_offsets@{get\_center\_of\_mass\_offsets}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{get\_center\_of\_mass\_offsets()}{get\_center\_of\_mass\_offsets()}}
{\footnotesize\ttfamily  np.\+ndarray aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+get\+\_\+center\+\_\+of\+\_\+mass\+\_\+offsets (\begin{DoxyParamCaption}\item[{np.\+ndarray}]{data,  }\item[{tuple\mbox{[}int,...\mbox{]}}]{axes,  }\item[{np.\+ndarray $\vert$ None }]{roi\+\_\+mask = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}    data : np.ndarray
        Array to recenter
    axes : tuple[int,...]
        Axes to get center of mass and recenter along.
    roi_mask : np.ndarray | None = None
        Mask for the region of interest. If present will restrict calculations to this region.\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_ad87a713d2e959d66d3d4ba4ccf24b360}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_ad87a713d2e959d66d3d4ba4ccf24b360}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!get\_outlier\_mask@{get\_outlier\_mask}}
\index{get\_outlier\_mask@{get\_outlier\_mask}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{get\_outlier\_mask()}{get\_outlier\_mask()}}
{\footnotesize\ttfamily  np.\+ndarray aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+get\+\_\+outlier\+\_\+mask (\begin{DoxyParamCaption}\item[{np.\+ndarray}]{data,  }\item[{tuple\mbox{[}int,...\mbox{]}}]{axes,  }\item[{float }]{n\+\_\+sigma = {\ttfamily 5} }\end{DoxyParamCaption})}

\begin{DoxyVerb}    # ARGUMENTS #
    
    data : np.ndarray
        Data to get outlier mask of.
    axes : tuple[int,...]
        Axes over which to get outlier mask
    n_sigma : float =  5
        Number of standard deviations away from the mean a member of `data` must be to be considered an outlier\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_af048123fcb4f52be1a5e745f6722107e}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_af048123fcb4f52be1a5e745f6722107e}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!get\_roi\_mask@{get\_roi\_mask}}
\index{get\_roi\_mask@{get\_roi\_mask}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{get\_roi\_mask()}{get\_roi\_mask()}}
{\footnotesize\ttfamily  np.\+ndarray aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+get\+\_\+roi\+\_\+mask (\begin{DoxyParamCaption}\item[{np.\+ndarray}]{data,  }\item[{tuple\mbox{[}int,...\mbox{]}}]{axes,  }\item[{float }]{threshold = {\ttfamily 1E-\/2},  }\item[{None $\vert$ int }]{n\+\_\+largest\+\_\+regions = {\ttfamily 1} }\end{DoxyParamCaption})}

\begin{DoxyVerb}    data : np.ndarray
        Array to get region of interest of
    axes : tuple[int,...]
        Axes to get region of interest along.
    threshold : float = 1E-2
        When finding region of interest, only values larger than this fraction of the maximum value are included.
    n_largest_regions : None | int = 1
        When finding region of interest, if using a threshold will only the n_largest_regions in the calculation.
        A region is defined as a contiguous area where value >= `threshold` along `axes`. I.e. in a 3D cube, if
        we recenter about the COM on the sky (CELESTIAL) axes the regions will be calculated on the sky, not in
        the spectral axis (for example).\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a77e0b620abe6cdf4232184c7b8552bec}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a77e0b620abe6cdf4232184c7b8552bec}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!normalise@{normalise}}
\index{normalise@{normalise}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{normalise()}{normalise()}}
{\footnotesize\ttfamily  np.\+ndarray aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+normalise (\begin{DoxyParamCaption}\item[{np.\+ndarray}]{data,  }\item[{tuple\mbox{[}int,...\mbox{]} $\vert$ None}]{axes = {\ttfamily None},  }\item[{tuple\mbox{[}int,...\mbox{]} $\vert$ None }]{cutout\+\_\+shape = {\ttfamily None},  }\item[{}]{recenter\+\_\+around\+\_\+center\+\_\+of\+\_\+mass = {\ttfamily False},  }\item[{}]{remove\+\_\+background = {\ttfamily True} }\end{DoxyParamCaption})}

\begin{DoxyVerb}    Ensure an array of data fufils the following conditions:
    
    * odd shape, to ensure a center pixel exists
    * center array on brightest pixel
    * ensure array sums to 1
    * cut out a region around the center to remove unneeded data.\end{DoxyVerb}
 Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/daa/namespaceaopp__deconv__tool_1_1psf__data__ops_a77e0b620abe6cdf4232184c7b8552bec_cgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_aeeb273f603fa12765786ad7bdb87ee72}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_aeeb273f603fa12765786ad7bdb87ee72}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!objective\_function\_factory@{objective\_function\_factory}}
\index{objective\_function\_factory@{objective\_function\_factory}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{objective\_function\_factory()}{objective\_function\_factory()}}
{\footnotesize\ttfamily def aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+objective\+\_\+function\+\_\+factory (\begin{DoxyParamCaption}\item[{}]{model\+\_\+flattened\+\_\+callable,  }\item[{}]{data,  }\item[{}]{err,  }\item[{}]{mode = {\ttfamily \textquotesingle{}minimise\textquotesingle{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}    Given a model function, some data, and the error on that data; returns an objective function that
    for either 'minimise'-ing or 'maximise'-ing the difference/similarity of the model and data.\end{DoxyVerb}
 Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/daa/namespaceaopp__deconv__tool_1_1psf__data__ops_aeeb273f603fa12765786ad7bdb87ee72_icgraph}
\end{center}
\end{figure}
\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_aacf559b49b36bff59b0989d961abc68c}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_aacf559b49b36bff59b0989d961abc68c}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!remove\_offset@{remove\_offset}}
\index{remove\_offset@{remove\_offset}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{remove\_offset()}{remove\_offset()}}
{\footnotesize\ttfamily def aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+remove\+\_\+offset (\begin{DoxyParamCaption}\item[{}]{data,  }\item[{}]{axes,  }\item[{}]{mask,  }\item[{}]{model\+\_\+name = {\ttfamily \textquotesingle{}norm\textquotesingle{}} }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a4b3d99f76e3faae7a4a9bdfdcda51df8}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a4b3d99f76e3faae7a4a9bdfdcda51df8}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!scipy\_fitting\_function\_factory@{scipy\_fitting\_function\_factory}}
\index{scipy\_fitting\_function\_factory@{scipy\_fitting\_function\_factory}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{scipy\_fitting\_function\_factory()}{scipy\_fitting\_function\_factory()}}
{\footnotesize\ttfamily def aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+scipy\+\_\+fitting\+\_\+function\+\_\+factory (\begin{DoxyParamCaption}\item[{}]{scipy\+\_\+func }\end{DoxyParamCaption})}

\begin{DoxyVerb}    Given some function that implements the same protocol as [scipy minimise](https://docs.scipy.org/doc/scipy/reference/generated/scipy.optimize.minimize.html#scipy.optimize.minimize)
    returns a callable that accepts a PriorParamSet, a scipy-compatible objective function, a list of variable parameters, a list of constant parameters, and
    returns the fitted variable parameters.\end{DoxyVerb}
 \mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a1341f48440c941ca947dfc28a66dece2}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a1341f48440c941ca947dfc28a66dece2}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!trim\_around\_center@{trim\_around\_center}}
\index{trim\_around\_center@{trim\_around\_center}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{trim\_around\_center()}{trim\_around\_center()}}
{\footnotesize\ttfamily  np.\+ndarray aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+trim\+\_\+around\+\_\+center (\begin{DoxyParamCaption}\item[{np.\+ndarray}]{data,  }\item[{tuple\mbox{[}int,...\mbox{]}}]{axes,  }\item[{tuple\mbox{[}int,...\mbox{]}  }]{output\+\_\+shape }\end{DoxyParamCaption})}

\begin{DoxyVerb}    # ARGUMENTS #
    
    data : np.ndarray
        Data to trim around center pixel, will remove pixels that are greater than shape[i]/2 from the center pixel.
    axes : tuple[int,...]
        Axes over which to operate
    output_shape : tuple[int,...]
        Desired shape of `axes` after trimming\end{DoxyVerb}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a0f190a442c97f8630deb4ecba62c0567}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a0f190a442c97f8630deb4ecba62c0567}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!\_lgr@{\_lgr}}
\index{\_lgr@{\_lgr}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{\_lgr}{\_lgr}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+\_\+lgr = \mbox{\hyperlink{namespaceaopp__deconv__tool_1_1cfg_1_1logs_a858779f4bf60872f01cc77b643fedc79}{aopp\+\_\+deconv\+\_\+tool.\+cfg.\+logs.\+get\+\_\+logger\+\_\+at\+\_\+level}}(\+\_\+\+\_\+name\+\_\+\+\_\+, \textquotesingle{}INFO\textquotesingle{})\hspace{0.3cm}{\ttfamily [private]}}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_ac3bc69177f49ec5ab295933f60d70ad3}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_ac3bc69177f49ec5ab295933f60d70ad3}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!IntVar@{IntVar}}
\index{IntVar@{IntVar}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{IntVar}{IntVar}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+Int\+Var = Type\+Var(\textquotesingle{}Int\+Var\textquotesingle{}, bound=int)}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_acabc8d724f2afc96900803954909e2cb}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_acabc8d724f2afc96900803954909e2cb}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!M@{M}}
\index{M@{M}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{M}{M}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+M = Type\+Var(\textquotesingle{}\mbox{\hyperlink{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}{N}}\textquotesingle{},bound=int)}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_aa2ba317c4a10cb2fdb239ba4b64c1be3}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!N@{N}}
\index{N@{N}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{N}{N}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+N = Type\+Var(\textquotesingle{}N\textquotesingle{},bound=int)}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a15f5804637fb8c1c3016236e1256d5b5}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a15f5804637fb8c1c3016236e1256d5b5}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!P@{P}}
\index{P@{P}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{P}{P}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+P = Param\+Spec(\textquotesingle{}P\textquotesingle{})}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a85b769c33a4e2e299654edbc441722e7}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!Q@{Q}}
\index{Q@{Q}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{Q}{Q}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+Q = Param\+Spec(\textquotesingle{}Q\textquotesingle{})}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_a57c338d52f42fe8fea6c63b984f8042c}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!T@{T}}
\index{T@{T}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{T}{T}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+T = Type\+Var(\textquotesingle{}T\textquotesingle{})}

\mbox{\Hypertarget{namespaceaopp__deconv__tool_1_1psf__data__ops_aa3da58f86ffd7ff453d9d6bfd8f0b3e3}\label{namespaceaopp__deconv__tool_1_1psf__data__ops_aa3da58f86ffd7ff453d9d6bfd8f0b3e3}} 
\index{aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}!Ts@{Ts}}
\index{Ts@{Ts}!aopp\_deconv\_tool.psf\_data\_ops@{aopp\_deconv\_tool.psf\_data\_ops}}
\doxysubsubsection{\texorpdfstring{Ts}{Ts}}
{\footnotesize\ttfamily aopp\+\_\+deconv\+\_\+tool.\+psf\+\_\+data\+\_\+ops.\+Ts = Type\+Var\+Tuple(\textquotesingle{}Ts\textquotesingle{})}

