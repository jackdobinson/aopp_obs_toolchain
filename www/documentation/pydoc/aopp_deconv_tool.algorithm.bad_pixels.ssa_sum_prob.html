<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "DTD/xhtml1-strict.dtd">
<html>
  

  <head>
    
    <title>aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob</title>
    <meta name="generator" content="pydoctor 24.3.3"> 
        
    </meta>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1" />
    <link rel="stylesheet" type="text/css" href="apidocs.css" />
    <link rel="stylesheet" type="text/css" href="readthedocstheme.css" />
    <link rel="stylesheet" type="text/css" href="extra.css" />
</head>

  <body>

    

    <nav class="navbar navbar-default mainnavbar">
      
  
  <div class="container-fluid">


    <div class="navbar-header">
      
      <div class="navlinks">
        <span class="navbar-brand">
          aopp_obs_toolchain::aopp_deconv_tool <a href="index.html">API Documentation</a>
        </span>

        <a href="moduleIndex.html">
          Modules
        </a>

        <a href="classIndex.html">
          Classes
        </a>

        <a href="nameIndex.html">
          Names
        </a>

        <div id="search-box-container">
          <div class="input-group">
            <input id="search-box" type="search" name="search-query" placeholder="Search..." aria-label="Search" minlength="2" class="form-control" autocomplete="off" />
            
            <span class="input-group-btn">
              <a style="display: none;" class="btn btn-default" id="search-clear-button" title="Clear" onclick="clearSearch()"><img src="fonts/x-circle.svg" alt="Clear" /></a>
              <a class="btn btn-default" id="search-help-button" title="Help" onclick="toggleSearchHelpText()"><img src="fonts/info.svg" alt="Help" /></a>
            </span>
          </div>
        </div>

      </div>

    </div>

  </div>

    
        <!-- Side navigation -->
      <div class="sidebarcontainer">
        <nav class="sidebar">
  

  <div>

      <div class="thingTitle">
        <span>Module</span>
        <code class="thisobject"><a href="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.html" class="internal-link" title="This module">ssa<wbr></wbr>_sum<wbr></wbr>_prob</a></code> 
      </div>
      
      <div>
        

        
         

        
        

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#get_bp_mask_from_badness_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.get_bp_mask_from_badness_map">get<wbr></wbr>_bp<wbr></wbr>_mask<wbr></wbr>_from<wbr></wbr>_badness<wbr></wbr>_map</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#pixel_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.pixel_map">pixel<wbr></wbr>_map</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#plot_pixel_map_test" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.plot_pixel_map_test">plot<wbr></wbr>_pixel<wbr></wbr>_map<wbr></wbr>_test</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ssa2d_deviations" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_deviations">ssa2d<wbr></wbr>_deviations</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ssa2d_sum_prob_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_sum_prob_map">ssa2d<wbr></wbr>_sum<wbr></wbr>_prob<wbr></wbr>_map</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_lgr" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob._lgr">_lgr</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div><div>

      <div class="thingTitle">
        <span>Package</span>
        <code><a href="aopp_deconv_tool.algorithm.bad_pixels.html" class="internal-link" title="The parent of this module">bad<wbr></wbr>_pixels</a></code> 
      </div>
      
      <div>
        

        <div class="childrenKindTitle">Modules</div>
        <ul>
    
    <li class=" thisobject">
        
        
        
            <div class="itemName expandableItem">
                <input class="tocChildrenToggle" type="checkbox" id="expandableItemId380"> 
                    
                </input>

                <label class="lbl-toggle notExpandable" for="">
                    
                    
                </label>

                <code><a href="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.html" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob">ssa<wbr></wbr>_sum<wbr></wbr>_prob</a></code>

                <div class="expandableContent">
                    <div>
        

        
         

        
        

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="#get_bp_mask_from_badness_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.get_bp_mask_from_badness_map">get<wbr></wbr>_bp<wbr></wbr>_mask<wbr></wbr>_from<wbr></wbr>_badness<wbr></wbr>_map</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#pixel_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.pixel_map">pixel<wbr></wbr>_map</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#plot_pixel_map_test" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.plot_pixel_map_test">plot<wbr></wbr>_pixel<wbr></wbr>_map<wbr></wbr>_test</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ssa2d_deviations" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_deviations">ssa2d<wbr></wbr>_deviations</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="#ssa2d_sum_prob_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_sum_prob_map">ssa2d<wbr></wbr>_sum<wbr></wbr>_prob<wbr></wbr>_map</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="private">
        
        
        

        
            <div class="itemName"><code><a href="#_lgr" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob._lgr">_lgr</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
                </div>
            </div>
            
        

        

    </li>
</ul> 

        
        

        <div class="childrenKindTitle">Functions</div>
        <ul>
    
    <li class="">
        
        
        

        
            <div class="itemName"><code><a href="aopp_deconv_tool.algorithm.bad_pixels.html#fix" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.fix">fix</a></code>
            </div>
        

    </li><li class="">
        
        
        

        
            <div class="itemName"><code><a href="aopp_deconv_tool.algorithm.bad_pixels.html#get_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.get_map">get<wbr></wbr>_map</a></code>
            </div>
        

    </li>
</ul> 

        
         

        <div class="childrenKindTitle">Variables</div>
        <ul>
    
    <li class="private">
        
        
        

        
            <div class="itemName"><code><a href="aopp_deconv_tool.algorithm.bad_pixels.html#_lgr" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels._lgr">_lgr</a></code>
            </div>
        

    </li>
</ul> 

        
         
        
      </div>
  </div>

</nav>
        <!-- No sidebar toggle for read the docs theme, the sidebar is always
          visible when the screen is width enough.
        -->
      </div>

    </nav>
    
    <div class="container-fluid">

      <div id="main" class="">
        

        

        <div id="search-results-container" style="display: none;">
        
          <div id="search-buttons">
            <span class="label label-default" id="search-docstrings-button">
            <label class="checkbox-inline">
              <input type="checkbox" id="toggle-search-in-docstrings-checkbox" value="false" onclick="toggleSearchInDocstrings()">
                search in docstrings
              </input>
            </label>
            </span>
            
          </div>
          
          <noscript>
              <h1>Cannot search: JavaScript is not supported/enabled in your browser.</h1>
          </noscript>
  
          <div class="hint" id="search-help-box">
            <p class="rst-last">
        
              Search bar offers the following options:
              <ul>   
                  <li>
                    <strong>Term presence.</strong> The below example searches for documents that 
                      must contain “foo”, might contain “bar” and must not contain “baz”: <code>+foo bar -baz</code>
                  </li> 
  
                  <li>
                    <strong>Wildcards.</strong> The below example searches for documents with words beginning with “foo”: <code>foo*</code>
                  </li> 
  
                  <li>
                    <strong>Search in specific fields.</strong> The following search matches all objects 
                    in "twisted.mail" that matches “search”: <code>+qname:twisted.mail.* +search</code>
  
                    <p>
                      Possible fields: 'name', 'qname' (fully qualified name), 'docstring', and 'kind'.
                      Last two fields are only applicable if "search in docstrings" is enabled.
                    </p>
                  </li>
  
                  <li>
                    <strong>Fuzzy matches.</strong> The following search matches all documents 
                    that have a word within 1 edit distance of “foo”: <code>foo~1</code>
                  </li>
              </ul>
  
            </p>
          </div>
  
          <div id="search-status"> </div>
  
          <div class="warning" id="search-warn-box" style="display: none;">
            <p class="rst-last"><span id="search-warn"></span></p>
          </div>
  
          <table id="search-results">
            <!-- Filled dynamically by JS -->
          </table>
          
          <div style="margin-top: 8px;">
            <p>Results provided by <a href="https://lunrjs.com">Lunr.js</a></p>
          </div>
        </div>

        <div class="page-header">
          <h1 class="module"><code><code><a href="index.html" class="internal-link">aopp_deconv_tool</a></code><wbr></wbr>.<code><a href="aopp_deconv_tool.algorithm.html" class="internal-link" title="aopp_deconv_tool.algorithm">algorithm</a></code><wbr></wbr>.<code><a href="aopp_deconv_tool.algorithm.bad_pixels.html" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels">bad_pixels</a></code><wbr></wbr>.<code><a href="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.html" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob">ssa_sum_prob</a></code></code></h1>
          <div id="showPrivate">
            <button class="btn btn-link" onclick="togglePrivate()">Toggle Private API</button>
          </div>
        </div>

        <div class="categoryHeader">
          module documentation
        </div>

        <div class="extrasDocstring">
          
          <p></p>
        </div>

        <div class="moduleDocstring">
          <div><p class="undocumented">Undocumented</p></div>
        </div>

        <div id="splitTables">
          <table class="children sortable" id="id6">
  
  
  <tr class="function">
    
    <td>Function</td>
    <td><code><a href="#get_bp_mask_from_badness_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.get_bp_mask_from_badness_map">get<wbr></wbr>_bp<wbr></wbr>_mask<wbr></wbr>_from<wbr></wbr>_badness<wbr></wbr>_map</a></code></td>
    <td>value = prob_median_transform_func(value)</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#pixel_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.pixel_map">pixel<wbr></wbr>_map</a></code></td>
    <td>Finds a mask for an image based on values in 'test'.</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#plot_pixel_map_test" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.plot_pixel_map_test">plot<wbr></wbr>_pixel<wbr></wbr>_map<wbr></wbr>_test</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ssa2d_deviations" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_deviations">ssa2d<wbr></wbr>_deviations</a></code></td>
    <td>Average standard deviation of a pixel from a region <code>size</code> around it. Same as <code><a href="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.html#ssa2d_sum_prob_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_sum_prob_map">ssa2d_sum_prob_map</a></code> but a bit more efficient (less customisable).</td>
  </tr><tr class="function">
    
    <td>Function</td>
    <td><code><a href="#ssa2d_sum_prob_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_sum_prob_map">ssa2d<wbr></wbr>_sum<wbr></wbr>_prob<wbr></wbr>_map</a></code></td>
    <td>Computes a bad pixel map from an SSA2D object. Concentrates on hot/cold pixels w.r.t background.</td>
  </tr><tr class="variable private">
    
    <td>Variable</td>
    <td><code><a href="#_lgr" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob._lgr">_lgr</a></code></td>
    <td><span class="undocumented">Undocumented</span></td>
  </tr>
</table>
          

            
        </div>

        <div id="childList">
          <div class="basefunction">
  
  
  <a name="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.get_bp_mask_from_badness_map">
    
  </a>
  <a name="get_bp_mask_from_badness_map">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">get_bp_mask_from_badness_map</span><span class="function-signature">(badness_map, value, value_transform=<span class="rst-variable-quote">'</span><span class="rst-variable-string">identity</span><span class="rst-variable-quote">'</span>)</span>:
    
    <a class="headerLink" href="#get_bp_mask_from_badness_map" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.get_bp_mask_from_badness_map">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p><dl class="rst-docutils">
<dt>if 'median_prob' in transform_value_as:</dt>
<dd>value = prob_median_transform_func(value)</dd>
<dt>if 'ppf' in transform_value_as:</dt>
<dd>cutoff_func = lambda _test, _value: EmpiricalDistribution(_test.ravel()).ppf(_value)</dd>
<dt>else:</dt>
<dd>cutoff_func = lambda _test, _value: _value</dd>
</dl>
</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.pixel_map">
    
  </a>
  <a name="pixel_map">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">pixel_map</span><span class="function-signature">(test, value, show_plots=0, img=None, plot_kw={}, cutoff_func=lambda _test, _value: EmpiricalDistribution(_test.ravel()).ppf(_value), bp_mask_func=lambda _test, _cutoff: _test &gt; _cutoff) -&gt; <code>np.ndarray</code></span>:
    
    <a class="headerLink" href="#pixel_map" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.pixel_map">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Finds a mask for an image based on values in 'test'.</p>
<dl class="rst-docutils">
<dt># ARGUMENTS #</dt>
<dd><dl class="rst-docutils rst-first rst-last">
<dt>img <span class="classifier-delimiter">:</span> <span class="rst-classifier">np.ndarray([:,:], type.T1)</span></dt>
<dd>image to construct mask for (not actually used in calculation, but used in plotting)</dd>
<dt>test <span class="classifier-delimiter">:</span> <span class="rst-classifier">np.ndarray([:,:], type.T2)</span></dt>
<dd>Array that cutoff will be applied to to find mask</dd>
<dt>value <span class="classifier-delimiter">:</span> <span class="rst-classifier">type.T3</span></dt>
<dd>Value to calculate cutoff from using 'cutoff_func'</dd>
<dt>show_plots <span class="classifier-delimiter">:</span> <span class="rst-classifier">bool</span></dt>
<dd>If True, will plot results of mapping.</dd>
<dt>plot_kw <span class="classifier-delimiter">:</span> <span class="rst-classifier">dict</span></dt>
<dd><p class="rst-first">Dictionary to pass optional arguments to plots.
{       'suptitle' : str</p>
<blockquote>
A string to display as the super-title of the plotted figure</blockquote>
<p class="rst-last">}</p>
</dd>
<dt>cutoff_func <span class="classifier-delimiter">:</span> <span class="rst-classifier">Callable[np.ndarray([:,:],type.T2), type.T3] -&gt; type.T4</span></dt>
<dd><blockquote class="rst-first">
= lambda _t, _v: ut.sp.construct_ppf_from(_t.ravel())(_v)</blockquote>
<p class="rst-last">A function that calculates the cutoff from 'value'. The cutoff is used
to detemine the mask.</p>
</dd>
<dt>bp_mask_func <span class="classifier-delimiter">:</span> <span class="rst-classifier">Callable[np.ndarray([:,:],type.T2), type.T4] -&gt; np.ndarray([:,:],bool)</span></dt>
<dd><blockquote class="rst-first">
= lambda _t, _c: _t &gt; _c</blockquote>
<p class="rst-last">A function that calculates the mask from the test and cutoff (cutoff is calculated
from 'cutoff_func')</p>
</dd>
</dl>
</dd>
<dt># RETURNS #</dt>
<dd><dl class="rst-docutils rst-first rst-last">
<dt>mask <span class="classifier-delimiter">:</span> <span class="rst-classifier">np.ndarray([:,:],bool)</span></dt>
<dd>A boolean array that can be used to mask 'img'</dd>
</dl>
</dd>
</dl>
</div>
  </div>
</div><div class="basefunction">
  
  
  <a name="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.plot_pixel_map_test">
    
  </a>
  <a name="plot_pixel_map_test">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">plot_pixel_map_test</span><span class="function-signature">(img, test, cutoff, mask, interp, plot_kw={})</span>:
    
    <a class="headerLink" href="#plot_pixel_map_test" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.plot_pixel_map_test">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_deviations">
    
  </a>
  <a name="ssa2d_deviations">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">ssa2d_deviations</span><span class="function-signature">(ssa, start=None, stop=None, size=None, mask=None) -&gt; <code>np.ndarray</code></span>:
    
    <a class="headerLink" href="#ssa2d_deviations" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_deviations">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Average standard deviation of a pixel from a region <code>size</code> around it.
Same as <code><a href="#ssa2d_sum_prob_map" class="internal-link" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_sum_prob_map">ssa2d_sum_prob_map</a></code> but a bit more efficient (less customisable).</p></div>
  </div>
</div><div class="basefunction">
  
  
  <a name="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_sum_prob_map">
    
  </a>
  <a name="ssa2d_sum_prob_map">
    
  </a>
  <div class="functionHeader">
    
    
    <span class="py-keyword">def</span> <span class="py-defname">ssa2d_sum_prob_map</span><span class="function-signature">(ssa, start=5, stop=None, value=0.99, strategy: <code>Literal[<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">prob_frac_from_median</span><span class="rst-variable-quote">'</span>] | Literal[<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">n_std_dev_from_median</span><span class="rst-variable-quote">'</span>]</code> = <span class="rst-variable-quote">'</span><span class="rst-variable-string">n_std_dev_from_median</span><span class="rst-variable-quote">'</span>, show_plots=0, transform_value_as: <code>list[<wbr></wbr>Literal[<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">median_prob</span><span class="rst-variable-quote">'</span>, <wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">ppf</span><span class="rst-variable-quote">'</span>]]</code> = [<wbr></wbr><span class="rst-variable-quote">'</span><span class="rst-variable-string">ppf</span><span class="rst-variable-quote">'</span>], weight_by_evals=False, smooth_sigma=None)</span>:
    
    <a class="headerLink" href="#ssa2d_sum_prob_map" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob.ssa2d_sum_prob_map">
      
      
      ¶
    </a>
  </div>
  <div class="docstring functionBody">
    
    <div><p>Computes a bad pixel map from an SSA2D object. Concentrates on hot/cold pixels w.r.t background.</p>
<p>Idea is that for a hot/cold pixel, the high frequency components of the SSA decomposition must
also be hot/cold. Therefore, the hot/cold pixels will consistently be at the <em>edges</em> of the
pixel probability distribution for the higher frequency SSA components. As high frequency
SSA components outnumber low frequency SSA components, we can just use all components as
long as we don't weight them by their eigenvalues (if we do, we should try and be selective
to only the components where the scale of changes matches the scale of the hot/cold pixels).</p>
<p>For each component of the SSA decomposition, a map is made of how far a given pixel deviates
from the median (range [-1,1]). The median differences for each component are combined together
(by mean or weighted mean) to give a 'score' for each pixel. Bad pixels should have scores at the
extreme ends of the [-1,1] range. A bad pixel map is chosen by taking the absolute value of the score,
and selecting all pixels whose |score| is larger than a give value.</p>
<dl class="rst-docutils">
<dt># ARGUMENTS #</dt>
<dd><dl class="rst-docutils rst-first rst-last">
<dt>ssa</dt>
<dd>An SSA2D object</dd>
<dt>start</dt>
<dd>The first SSA component to include in the probability map</dd>
<dt>stop</dt>
<dd>The last SSA component to include in the probability map.
If None, then will include as many SSA components as are present</dd>
<dt>value</dt>
<dd>A float that describes the quantile that denotes a 'bad pixel'</dd>
<dt>strategy <span class="classifier-delimiter">:</span> <span class="rst-classifier">'prob_frac_from_median' | 'n_std_dev_from_median'</span></dt>
<dd><dl class="rst-docutils rst-first rst-last">
<dt>How should we define an 'improbable' pixel?</dt>
<dd><dl class="rst-docutils rst-first rst-last">
<dt>'prob_frac_from_median'</dt>
<dd>Fraction of probability space a pixel is away from
the median value</dd>
<dt>'n_std_dev_from_median'</dt>
<dd>Number of standard deviations a pixel is away from
the median value</dd>
</dl>
</dd>
</dl>
</dd>
<dt>show_plots</dt>
<dd>0 = do not show plots
1 = show some plots
2 = show interim plots</dd>
<dt>transform_value_as</dt>
<dd><p class="rst-first">List of literal strings that tells us how to tranform the "value"
argument after which it is used as the cutoff for a bad pixel.
If no options are given, "value" is used as the cutoff directly,
i.e., if "value" is 0.99, then only pixels which have a median
probability &gt; 0.99 are classified as "bad pixels".</p>
<dl class="rst-docutils rst-last">
<dt>Options are:</dt>
<dd><dl class="rst-docutils rst-first rst-last">
<dt>"identity"</dt>
<dd>Use the value as-is, do not transform it</dd>
<dt>"median_prob"</dt>
<dd>Transform "value" using the same function that we use to
change cumulative probabilities of pixels into probability
a pixel is a certain distance from the median.</dd>
<dt>"ppf"</dt>
<dd>Transform "value" so that the cutoff is the percentage
point function of the pixel median probabilities. I.e.
if "value" is 0.9, then the cutoff will be set such that
10% of the pixels will be classified as "bad pixels"</dd>
</dl>
</dd>
</dl>
</dd>
<dt>weight_by_evals</dt>
<dd>If True, will weight each SSA component pixel probability by
the component's eigenvalue when averaging into a combined score.</dd>
</dl>
</dd>
<dt># RETURNS #</dt>
<dd><dl class="rst-docutils rst-first rst-last">
<dt>bp_mask</dt>
<dd>A bad pixel mask. Pixels to reject are coded as True.</dd>
</dl>
</dd>
</dl>
</div>
  </div>
</div><div class="basevariable private">
  
  
  <a name="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob._lgr">
    
  </a>
  <a name="_lgr">
    
  </a>
  <div class="functionHeader">
    
    <span class="py-defname">_lgr</span> =
    
    <a class="headerLink" href="#_lgr" title="aopp_deconv_tool.algorithm.bad_pixels.ssa_sum_prob._lgr">
      
      
      ¶
    </a>
  </div>
  <div class="functionBody">
    
    <div><p class="undocumented">Undocumented</p></div>
    
  </div>
</div>
        </div>
      
      </div>
    </div>

    <footer class="navbar navbar-default">
    <hr />
    
    
    <div class="container">
      <a href="index.html">API Documentation</a> for aopp_obs_toolchain::aopp_deconv_tool,
    generated by <a href="https://github.com/twisted/pydoctor/">pydoctor</a>
      24.3.3 at 2024-09-05 18:44:56.
    </div>
    
    <script src="ajax.js" type="text/javascript"></script>
    <script src="searchlib.js" type="text/javascript"></script>
    <script src="search.js" type="text/javascript"></script>
  
  </footer>
  
    <script src="pydoctor.js" type="text/javascript"></script>

  </body>
</html>