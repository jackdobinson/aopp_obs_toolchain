<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>{{ page.title }}</title>
		<link rel="stylesheet" href="{{ site.baseurl }}/assets/css/style.css">
		
	</head>
	<body>
		{% include top-menu.html %}
		{% include breadcrumb.html %}
	<section id="toc">
	</section>
	<section id="content">
		<!--
		<pre class="debugging">
			{{ page.content }}
		</pre>
		-->
	
		{{ content }}
	</section>
	<footer>
		default template
	</footer>
	
	<script>
		window.onload = function () {
			console.log('HELLO WORLD')
			var toc = "";
			var list_level = 1;
			var item_level = 1;
			var item_anchor = null
			
			var toc_html = '<ul>'
			
			for (const item of document.querySelectorAll("h1, h2, h3, h4, h5, h6")){
				item_level = parseInt(item.nodeName[1])
				console.log(item_level)
				
				item_anchor = item.textContent.toLowerCase().replace(' ', '-')
				
				const item_anchor_element = document.createElement('a');
				item_anchor_element.setAttribute('id', item_anchor)
				item.appendChild(item_anchor_element)
				
				
				
				if (list_level < item_level){
					list_level = item_level
					toc_html += `<ul class="toc-level-${list_level}">`
				}
				else if (list_level > item_level){
					toc_html += '<\\ul>'
				}
				toc_html += `<li><a href=#${anchor}\>${item.textContent}<\a><\li>`
				
				
				
			}
			
			document.getElementById("toc").innerHTML += toc_html;
		};
	</script>
	</body>
</html>
